**CONTENT**

------------

[TOCM]

[TOC]
# PRILOGULKA
- [X] сделано
- [ ] не сделано

# Задачи
## Видео
- [X] запрос в соответствии с анкетой
- [x] локальное бд видосов
	- [x] добавление видео
	- [x] обновление датасета в соответствии с сервером
- [X] сохранение видосов в бд (работает, нужно думать про синхронизацию при входе 
	или заполнять бд видосами на день) (п.с я сохраняю, но пока номинально,
	т.е. обновляя просто при каждом входе)
- [X] дата синхронизации с сервером (если делаем заполнение видосами на день)
	* _загружаем данные в локальный стор, когда он обнуляется, закачиваем новые_
- [X] кол-во воспроизведений всего
- [X] кол-во воспроизведений подряд
- [X] удаление просмотренного видоса из бд
- [x] добавление просмотренного видоса в локальную бд (+ начисление денег)
- [ ] отправка на сервер статистики просмотра
- [x] бд действий пользователя
	- [x] само бд на просмотр и покупку карт
	- [x] вставка действий
	- [x] считаем локально деньги

## Гифткарты
- [x] бд гифткарт
- [x] покупка гифткарты
- [ ] использование гифткарты
	- [ ] удаление ее из бд купленных карт
- [ ] проверка актуальности (дата) на использование
	- [ ] удаление, если истек срок
- [ ] проверка актуальности (дата) на хранение
	- [ ] удаление, если истек срок
- [ ] дата синхронизации с сервером (или качаем каждый раз при входе)
- [ ] отправка статистики на сервер (что купил, сколько заплатил, кто купил)
- [x] генерация QR кода
- [x] бд купленных гифткарт (локальная)
	- [x] добавление
	- [ ] удаление

## Пользователь
- [ ] загружать купленные гифткарты
- [ ] загружать заработанные деньги
# Описание пакетов
## data
### android.interraction
#### DatePicker.java
Описывает класс по взаимодействию с выбором даты на пользовательском экране. Возвращает дату в отформатированном виде.
#### HintDialogs.java
Описывает класс по взаимодействию с диалоговым окном. Вызывается при покупке гифт-карты.
### managers
#### CoefficientManager.java
Менеджер коэффициентов.
* `public double getAgeCoefficient(String date)`
Выдает возрастной коэффициент соглассно вводимой дате в формате "dd.mm.yyyy"
* `public double getAgeCoefficient(int age)`
Выдает возрастной коэффициент соглассно вводимому возрасту
* `private void parseCoefs()`
Парсит коэффициенты в список коэффициентов
* `private void parseCoefsFromJson(String s) throws JSONException`
Парсит коэффициенты в список коэффициентов из строки JSON
* `private int parseStringDateToAge(String date) throws ParseException`
Парсит строку в формате "dd.mm.yyyy" в число (возраст)
* `private boolean contains(int age, ArrayList<Coefficient.Category> list)`
Проверка на то, что возраст содержится в листе возрастных категорий
---
#### GeofenceManager.java
#### SharedPreferencesManager.java
### service
#### GiftCardService.kt
#### QuestionnaireService.k
#### UserService.kt
#### VideoService.kt
### userData
#### Auth.kt
#### Questionnaire.kt
#### QuestionnaireInfo.kt
#### SerializeObject.java
#### User.kt
#### UserInfo.kt
### Coefficient.kt
### Districts.java
### GiftCard.kt
### Time.java
### Video.kt
### VideoAction.kt
## data_base
## facetracker
## login_signin
## menu
## recycle_view_adapters

